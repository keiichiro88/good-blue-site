# GOOD BLUEサイト Development Environment

## 開発環境について

### 🔧 **技術スタック**
- **フレームワーク**: Vite + React
- **言語**: TypeScript
- **スタイリング**: Tailwind CSS
- **アイコン**: Lucide React
- **開発ポート**: http://localhost:5173/

### 🎯 **推奨開発フロー**
1. **開発サーバー起動**: `npm run dev`
2. **コード修正・機能実装**
3. **ブラウザでの変更確認**
4. **ホットリロードで即座に反映確認**
5. **必要に応じて調整**

## プロジェクト構成

### Vite + React + TypeScript + Tailwind CSS
- **アプリケーション**: GOOD BLUE - 高品質な苗木とコーヒー豆の販売サイト
- **技術スタック**: Vite, React 18, TypeScript, Tailwind CSS
- **開発サーバー**: `npm run dev` でローカル開発サーバー起動
- **ポート**: http://localhost:5173/

### ファイル構成
- `src/` - ソースコード
  - `components/` - Reactコンポーネント
  - `data/` - 静的データファイル（商品データ等）
  - `types/` - TypeScript型定義
  - `App.tsx` - メインアプリケーションコンポーネント
  - `main.tsx` - エントリーポイント
  - `index.css` - グローバルスタイル
- `public/` - 静的ファイル
- 設定ファイル群（vite.config.ts, tsconfig.json, tailwind.config.js等）

## 📋 **開発ルール・約束事（重要）**

### 🇯🇵 **日本語対応の徹底**
- **すべての対応は日本語で行う**
- UIテキスト、メッセージ、説明文は必ず日本語
- 英語での回答や説明は避ける
- サイト名「GOOD BLUE」を正しく使用
- 高品質な商品を扱う店らしい、洗練された言葉遣いを心がける

### 🎓 **プログラミング初心者への配慮**
- **コード変更時は必ず解説を含める**：
  - なぜその変更が必要なのか
  - どのような仕組みで動作するのか
  - 各コードの部分が何をしているのか
- 専門用語には簡単な解説を付ける
- 段階的で理解しやすい説明を心がける

### 🔄 **定期的なルール振り返り仕組み**
- **各工程完了時のチェックリスト**：
  - ✅ 日本語での対応ができているか
  - ✅ プログラミング初心者向けの解説が含まれているか
  - ✅ 駄菓子屋らしい親しみやすさを考慮できているか
  - ✅ CLAUDE.mdのルールに沿っているか

- **TodoWrite使用時のルール確認**：
  - 新しいタスク追加時にガイドラインを意識
  - タスク完了時に自己チェックを実行

- **定期的なCLAUDE.md参照**：
  - 複数タスク進行後や大きな機能実装前後で必ず確認
  - 重要な変更前にはユーザー体験・サイトの方向性から再確認

### 🔷 **GOOD BLUEのブランドコンセプト**
- **高品質**: 厳選された苗木と倫理的に調達されたコーヒー豆
- **持続可能性**: 環境に配慮した商品とビジネスプラクティス
- **専門性**: 初心者から上級者まで満足できる知識とサポート
- **デザイン性**: 洗練されたモダンなデザインとユーザー体験

### 📊 **開発状況報告の継続更新**
- **定期更新タイミング**：
  - 大きな機能完成時（商品カタログ、ショッピングカート等）
  - 重要な技術的改善実装時（パフォーマンス改善、バグ修正等）
  - 新しい技術や手法を導入した時
  - プロジェクトの方向性に変更があった時
  
- **更新内容**：
  - 完了済み機能リストの追加・修正
  - 技術的特徴・学びの更新
  - 今後の開発予定の調整
  - 課題・制限事項の現状反映
  - 開発ノウハウ・ベストプラクティスの追加

### 📝 **店主向けドキュメント更新ルール（重要）**
- **機能実装完了時は必ずIMPLEMENTATION_GUIDE.mdを更新する**
- **更新タイミング**：
  - 新機能の実装完了時
  - 既存機能の大幅な変更時
  - 操作方法に変更がある時
  - 新しい管理機能の追加時
- **更新内容**：
  - 実装した機能の詳細説明
  - 操作方法の手順
  - 画面キャプチャが必要な場合の説明
  - 管理者向けの設定方法
- **忘れ防止策**：
  - TodoWriteでタスク完了時に必ず確認
  - git commitの前に必ず確認
  - 「実装が終わったらIMPLEMENTATION_GUIDE.mdを更新」を常に意識

## 🔧 **推奨開発手順**

### **開発前チェック**
1. プロジェクトディレクトリの確認
2. 依存関係の最新状態確認（package.jsonチェック）
3. 既存コンポーネントの設計パターン確認

### **実装フロー**
1. **設計**: 既存のUIパターンとの整合性確認
2. **実装**: TypeScriptの型安全性を重視
3. **スタイリング**: Tailwind CSS + shadcn/uiの統一感維持
4. **テスト**: ブラウザでの動作確認
5. **品質チェック**: レスポンシブ対応・アクセシビリティ確認

### **コード品質維持**
- **TypeScript**: 厳密な型定義を維持
- **コンポーネント設計**: 再利用可能で保守しやすい構成
- **Tailwind CSS**: デザインシステムの一貫性保持
- **shadcn/ui**: 既存コンポーネントライブラリとの調和

## 🚀 **開発サーバー起動手順**

### **セッション開始時の手順**
```bash
# 1. プロジェクトディレクトリに移動
cd /Users/GOOD\ BLUEサイト

# 2. 依存関係の確認・インストール（必要に応じて）
npm install

# 3. 開発サーバー起動
npm run dev

# 4. ブラウザでアクセス確認
# ✅ http://localhost:5173/ アクセス確認
```

### **開発時の注意点**
- **Vite開発サーバー**: 高速なHMR（Hot Module Replacement）対応
- **TypeScript**: 型安全性を重視した開発
- **Tailwind CSS**: ユーティリティファーストのスタイリング
- **Git管理**: 適切なコミットメッセージで管理

### **動作確認項目**
- ✅ ページの正常表示
- ✅ ナビゲーションの動作
- ✅ レスポンシブデザイン
- ✅ 商品表示・カート機能
- ✅ TypeScriptエラーの有無

## 🖼️ **画像管理のベストプラクティス**

### **画像の配置**
- すべての画像は`public/`フォルダ内に配置
- 適切なサブフォルダで整理（products/, hero/, icons/等）

### **画像の参照方法**
```javascript
// publicフォルダ内の画像を参照
src: '/images/products/product-name.jpg'

// 外部URLの画像も使用可能
src: 'https://example.com/image.jpg'
```

### **推奨ファイル構造**
```
public/
├── images/
│   ├── products/      # 商品画像
│   ├── hero/          # ヒーロー画像
│   ├── icons/         # アイコン画像
│   └── misc/          # その他の画像
```

## 🎯 **プロジェクト目標**

### **サイトの目的**
「GOOD BLUE」として高品質な苗木とコーヒー豆を提供し、持続可能なライフスタイルをサポートするECサイトの構築

### **主要機能**
- **商品カタログ**: 苗木（観葉植物、果樹、花木）とコーヒー豆の展示
- **フィルタリング**: カテゴリー別の商品検索機能
- **ショッピングカート**: オンライン購入機能
- **初心者ガイド**: 植物の育て方やコーヒーの淹れ方ガイド
- **レスポンシブデザイン**: モバイル対応の最適化されたUI

### **技術目標**
- モダンで保守しやすいコードベース
- 優れたユーザーエクスペリエンス
- モバイルファーストのレスポンシブデザイン
- SEO対策とパフォーマンス最適化

## 📝 **開発ログ**

### **2025年7月9日の作業内容**
- プロジェクトの方向性を「GOOD BLUE」に決定
- 店名をすべてのコンポーネントで「GOOD BLUE」に統一
- CLAUDE.mdを現在のプロジェクトに合わせて更新
- 開発環境の動作確認完了（Vite + React）

### **完了した作業内容**

#### **1. UI/UXの総合チェックと改善**
- ShopAtmosphereコンポーネントの詳細調査完了
- 画像表示問題の根本原因特定と解決方法確立
- Next.jsの静的エクスポート設定による画像パス問題を解決

#### **2. ShopAtmosphereコンポーネントの画像更新**
**変更した画像：**
1. **1枚目**: 「入りきれないほどの自転車」「みんなきれいに並べてね」
2. **2枚目**: 白いタブレット菓子の画像 (`/images/shop/dagashi-tablets.JPG`)
3. **3枚目**: レジからの景色 (`/images/shop/register-view.JPG`)
4. **7枚目**: 黒板でお絵描き (`/images/shop/blackboard-drawing.jpg`)
5. **8枚目**: こどもの買い物 (`/images/shop/child-shopping.jpg`)
6. **削除**: 「温かいお店」の外観画像を削除

**最終的な画像構成（7枚）：**
1. 入りきれないほどの自転車 - みんなきれいに並べてね
2. ワクワクの宝箱 - 好きな駄菓子をカゴにたくさん詰め込んで、まるで夢の中にいるみたい
3. 会計する場所から見た景色 - 一生懸命選んでる姿がとってもかわいくて、見てるだけで幸せになります
4. 買い物の学び - 「買い物体験」を大切にする瞬間
5. 放課後のひととき - 学校帰りのこどもたちの憩いの場
6. みんなでお絵描き - 自由に絵を描いて、想像力いっぱいの時間
7. 真剣なお買い物 - どれにしようかな、ワクワクしながら選ぶ時間が一番楽しい

#### **3. HEIC画像形式の一括変換**
- **変換数**: 262個のHEICファイルをJPG形式に変換
- **削除作業**: 変換後、元のHEICファイルを全削除
- **結果**: 全画像がウェブブラウザで表示可能な状態に

#### **4. 画像表示問題の根本解決**
**問題**: Next.jsの静的エクスポート設定により`/photo/`フォルダの画像が表示されない
**解決方法**: 
```bash
# 1. 画像をpublicフォルダにコピー
cp "/path/to/photo/[画像名].JPG" "/path/to/public/images/shop/[新しい名前].jpg"

# 2. コンポーネントでパス変更
src: '/images/shop/[新しい名前].jpg'

# 3. 開発サーバー再起動
npm run dev
```

### **使用した画像ファイル**
- `293EA371-36B9-4865-8424-0CC0D39AA944.JPG` → `dagashi-tablets.JPG`
- `D8741FAB-AA19-457F-9169-331ABAACB6A9.JPG` → `register-view.JPG`
- `IMG_8174.jpg` → `blackboard-drawing.jpg`
- `IMG_1001.jpg` → `child-shopping.jpg`

### **技術的な学び**
1. **Next.js画像最適化問題**: `unoptimized: true`設定下での画像パス制限
2. **HEIC形式対応**: `sips`コマンドでの一括変換手法
3. **開発環境の使い分け**: Cursor（サーバー起動）とClaude Code（コード編集）

### **次回セッション開始時の確認事項**
1. **開発サーバー起動確認**: Cursorで`npm run dev`
2. **画像表示確認**: ShopAtmosphereセクションの7枚の画像
3. **残りの高優先度タスク**:
   - Vercelでの環境変数設定
   - DNS反映確認
   - 本番サイト動作確認

### **重要なファイル状況**
- **ShopAtmosphere.tsx**: 7枚の画像構成で完成
- **public/images/shop/**: 必要な画像ファイルが正しく配置済み
- **photo/**: HEIC削除済み、378個のファイル（全てウェブ対応済み）

---

**作成日：2025年6月24日**
**最終更新：2025年6月25日 16:15**
**目的：駄菓子屋きよちゃんウェブサイト開発における一貫性のある開発品質向上と約束事の遵守**