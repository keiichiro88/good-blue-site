# デプロイメント・運用ガイド

## 📋 目次

1. [必要なサービスの概要](#必要なサービスの概要)
2. [Vercel（ホスティング）](#vercel)
3. [Supabase（データベース）](#supabase)
4. [Stripe（決済）](#stripe)
5. [コスト計算](#コスト計算)
6. [複数プロジェクトの管理](#複数プロジェクトの管理)
7. [推奨構成](#推奨構成)

---

## 必要なサービスの概要

ECサイトを本番運用するには、以下の3つのサービスが必要です：

| サービス | 用途 | 管理者 | 費用 |
|---------|------|--------|------|
| **Vercel** | サイトのホスティング | 開発者 | 無料〜$20/月 |
| **Supabase** | データベース・認証 | 開発者 | 無料〜$25/月 |
| **Stripe** | 決済処理 | 店主様 | 売上の3.6% |

---

## Vercel

### 用途
- Webサイトのホスティング
- 自動デプロイ（GitHubと連携）
- CDN配信で高速表示
- SSL証明書自動取得

### 無料プラン
- **帯域幅**: 100GB/月
- **想定規模**: 1日1,000人アクセスまで
- **制限**: 個人利用、チーム1人

### Pro プラン（$20/月 ≈ 3,000円）
- **帯域幅**: 1TB/月
- **想定規模**: 1日1万人以上も対応可能
- **特典**: 
  - 無制限のプロジェクト
  - チームメンバー追加可能
  - 優先サポート
  - アナリティクス機能

---

## Supabase

### 用途
- 商品データの保存
- 注文情報の管理
- 在庫管理
- ユーザー認証
- 画像ストレージ（オプション）

### 無料プラン
- **データベース**: 500MB
- **ストレージ**: 1GB
- **API呼び出し**: 200万回/月
- **想定規模**: 商品100個、月間注文300件まで

### Pro プラン（$25/月 ≈ 3,750円）
- **データベース**: 8GB
- **ストレージ**: 100GB
- **API呼び出し**: 無制限
- **特典**:
  - 自動バックアップ（7日間）
  - 2プロジェクトまで
  - 優先サポート

---

## Stripe

### 用途
- クレジットカード決済
- 売上管理
- 返金処理
- 領収書発行

### 費用
- **初期費用**: 無料
- **月額費用**: 無料
- **決済手数料**: 3.6%（1件あたり）

### 管理体制
- **推奨**: 店主様が直接アカウントを作成・管理
- **理由**: 
  - 売上金が直接入金される
  - 財務の透明性
  - セキュリティ

---

## コスト計算

### 小規模サイト（月商100万円まで）
```
Vercel: 無料
Supabase: 無料
Stripe: 36,000円（売上の3.6%）
合計: 36,000円/月
```

### 中規模サイト（月商500万円）
```
Vercel Pro: 3,000円
Supabase Pro: 3,750円
Stripe: 180,000円（売上の3.6%）
合計: 186,750円/月
```

### 大規模サイト（月商1,000万円）
```
Vercel Pro: 3,000円
Supabase Pro: 3,750円
Stripe: 360,000円（売上の3.6%）
合計: 366,750円/月
```

---

## 複数プロジェクトの管理

### Vercel Pro
- **プロジェクト数**: 無制限
- **ドメイン**: プロジェクトごとに設定可能
- **帯域幅**: アカウント全体で共有（1TB）

### Supabase Pro
- **基本プラン**: 2プロジェクトまで
- **追加プロジェクト**: $25/個
- **各プロジェクト**: 独立した8GB DB + 100GB ストレージ

### 3サイト運営の例
```
Vercel Pro: $20（全サイト含む）
Supabase Pro: $25 × 3 = $75
月額合計: $95（約14,000円）
1サイトあたり: 約4,700円
```

---

## 推奨構成

### 開発開始時
1. **Vercel**: 無料プランで開始
2. **Supabase**: 無料プランで開始
3. **Stripe**: テストモードで開発

### 本番リリース時
1. **Stripe**: 店主様が本番アカウント作成
2. **Vercel**: トラフィックに応じてProへ
3. **Supabase**: データ量に応じてProへ

### 管理分担
- **Stripe**: 店主様が管理（売上直接受取）
- **Vercel/Supabase**: 開発者が管理
- **費用負担**: 店主様
- **技術サポート**: 開発者

### セキュリティ考慮事項
- Stripeの本番APIキーは店主様のみ保持
- 開発者は制限付きAPIキーで作業
- 定期的なバックアップ設定
- 2段階認証の有効化推奨

---

## まとめ

**Vercel + Supabase + Stripe**の組み合わせは：
- 初期費用が安い（実質無料で開始可能）
- スケーラブル（成長に応じて拡張可能）
- 管理が簡単（自動化が充実）
- セキュア（大手企業も利用）

この構成で、月商1,000万円規模まで月額1万円以下のインフラ費用で運用可能です。

最終更新日: 2025年7月10日